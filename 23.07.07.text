파이어베이스 로그인 
스크린샷 참고
등록 하면 구글로그인 사용설정이 됨

파이어베이스에게 우리가 어떤 앱을 만들고 있다는것을 알려줘야됨
스크린샷 참고
후

//firebase config 파일은 github에 업로드 하면 안됨
코드 복사 후 붙여놓기 하면됨
github에 업로드 하기 싫을때는 .gitnore에 들어가서 .firebase.js 입력 하면 됨
입력 후 보면 firebass 파일이 흐려진 것을 볼 수 잇다



const firebaseConfig = {
  apiKey: "AIzaSyBtBwPdYYbhIEiYo4oa8uaDMYo5RwdN5NQ",
  authDomain: "carrot-market-15d7d.firebaseapp.com",
  databaseURL:
    "https://carrot-market-15d7d-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "carrot-market-15d7d",
  storageBucket: "carrot-market-15d7d.appspot.com",
  messagingSenderId: "373358779849",
  appId: "1:373358779849:web:b97231bc1be6b019d2dc18",}

  이제 구글 로그인 공식 문서 참고
  https://firebase.google.com/docs/auth/web/google-signin?hl=ko&authuser=0#handle_the_sign-in_flow_with_the_firebase_sdk

  코드 복사 후 App.svelte에 등록
  provider.addScope('https://www.googleapis.com/auth/contacts.readonly');
  읽기 전용 이기 때문에 코드 복사후 붙

우리는 로그인 페이지를 먼저 만들어 와야됨 밑 코드 참고

 let login = false;
{#if !login} //~가 아닐때는 !을 붙임
  <Login />
{:else}
  <Router {routes} />
{/if}
그리고 로그인이 되어 있는 상태에서는 로그인이 보여질 필요가 없음

 const routes = {
    "/": Main,
    "login": login, <을 지울 수 있음
    "/signup": Signup,
    "/write": Write,
    "*": NotFound,
  };

구글 로그인 하기 구글 시작하기 누르면 창이 뜨는것 까지 
  <script>
  import { getAuth, signInWithPopup, GoogleAuthProvider } from "firebase/auth";

  const provider = new GoogleAuthProvider();
  const auth = getAuth();

  const loginWithGoogle = () => {
    signInWithPopup(auth, provider)
      .then((result) => {
        // This gives you a Google Access Token. You can use it to access the Google API.
        const credential = GoogleAuthProvider.credentialFromResult(result);
        const token = credential.accessToken;
        // The signed-in user info.
        const user = result.user;
        // IdP data available using getAdditionalUserInfo(result)
        // ...
      })
      .catch((error) => {
        // Handle Errors here.
        const errorCode = error.code;
        const errorMessage = error.message;
        // The email of the user's account used.
        const email = error.customData.email;
        // The AuthCredential type that was used.
        const credential = GoogleAuthProvider.credentialFromError(error);
        // ...
      });
  };
</script>
위 문법을 
 const loginWithGoogle = async () => {
    try {
      const result = await signInWithPopup(auth, provider);
      const credential = GoogleAuthProvider.credentialFromResult(result);
      const token = credential.accessToken;
      const user = result.user;
    } catch (error) {
      const errorCode = error.code;
      const errorMessage = error.message;
      // The email of the user's account used.
      const email = error.customData.email;
      // The AuthCredential type that was used.
      const credential = GoogleAuthProvider.credentialFromError(error);
      // ...
      console.error(error);
    }
  };
  이 문법으로 바굼 위 문법으로 통해 이 정보가 있으면 유저를 보여주고 이 정보가 없으면
  로그인창으로 이동하도록 할 예정 그러면 이 정보를 저장을

앞에 $를 붙여줘야 유저 정보를 얻ㅇ르 수 있음
  const user = result.user;
      user$.set(user);
<div>{$user$}</div>



<div>
  <div>로그인 하기</div>
  <button class="login-btn" on:click={loginWithGoogle}>
    <img
      class="google-img"
      src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADjCAMAAADdXVr2AAABRFBMVEX////qQzU0qFNChfT7vAUse/Pw9f4+g/RkmPVsnPb7uAD7ugDqQDHqPS7/vQAwp1DpNiUopUvpMB3pLRgcokT97ezpMyHpOir8wgDpNST94qg3gPTx+fPh8eUjpEj73dv86ObvenJQsmnX7NxyvoT62dbrSTzymZTrUET1sKz2uLT3wb35z83pOTX+9eD8zWD/+On+8dOErPdiuHeCxZI/rFy938UyqkHF48yc0Kj0qKPwhH3sWU7taF/ucmrtY1nvbzr8yU7tYD37wSf803f+6r/925Lb5v2/0/uiv/n914jk7f1SjvVIo5pLldNLoK5Fp4ZKkeHxjIbveWX0kDL4qSXxfzb2ni35sx3zn5r8xUChvvm5zvqQs/iNtU1QrFPOui+etD9rrkvhuyC2tTNyr0t9vXRMm8JCqXJ/xI+VzKGr17VPvubAAAALgElEQVR4nO2c6XvaVhbGBXi3hNACigMIDBhj8DSNMcQYYzdNGyetO4tnq6fJTGc6m+H//z5aWCSQ0L26R/dKPPM+Tz/0A6Cfz/KeuygcF73yJ+ft69PH49FNq9VMpZrN1s3N6Pjx9Lp9XslT+P3IdNI+vW0JslzIaYIg8HxqJp4XBE3LFWRFaN0+tSusHxRbJ2fDliIfacKCyVu8oB3JSmt4lhjGk6c7Tc4Fgrkhc3JudH3C+tGDlD871mQNh8zBaHzyuB3fcqxc3yg5IRTaTMKRcnNdZQ3iofzZjZwLF7alIObkm7OYxbAzUkDYZoTK7TlrpLmqp1qBLCdXJcip61iE8PxW0YDZLPG5wrDKGq7TkqEDt5Cg3DL1inazAFdx3oAjZoDtVMRwU0AmA02nRQHOBjym3mQqdzIdOAtQPqUKlx8q0TUUL+X4Dj26s1wkVrBOvDyilKGVVoE2nClBuaZBd6rQKzq3CnfVqOEqrRwjuJTZYs6ipXtiFjpb8m2EcPk7JlXnlCBENsV0wNcFIcQrT9HQnSqs0WwVIknQuyPWXDNprSo0XCUVg8SciZeB1/IdihMmihRQh7iOSdktpAAO2Y8ya5pVFYZQdMfM3c5L8jEM3YjhGOYvoQmzgrihvvhBEc9vMp2QAqKLkd0txG82HVBm3sUyM6FidxtPOqDYHcfSEaBidxpLN4eiO4vdnGkKKjPP40kHFLs84GErnHgBaC+3GUs6oMzkjuNoCWB018ALPJ4371gVZFuFo5zmvIOF+iVQmXkC2FasC0fN0eNT+/ykUqlWK5WT887Z0/AuJeNdXYLqKhyXAio8XjhSmo/tE+/nyp+fDXnlCHGqBYsdUOHxmtwcdoKeqdo+1lAuH4DVHdeGKDxBTp2ibpefDwtB59i8UAWiy5MXHp9Thng7kZ27tce9vAZ2djkiXeLxhTAXiirDgm9N8HwVio40NflCsx3ul/OnPtebeA2MLk9IdxQWzvrxR68UheuZRtckSk2tQLg5Xh2t7PYDxo5sncArADvHHd6doYBdhWySzrVgDk6Hzj8xnCMYug5/hsfDHWp0FpMMZGaSWJ6WAjzzzs+OSkHpuMfQ0xj0gfCjAk9XCR08+OP8tsIbw08V8itvQ5oC+FmwqfMjATR2oYMnpCK5T1qFm8Qs/T5c8IRWLG6sB+n1wVe/CkGn3bB+cDS9PXzxB3w+7Y71c6Pp9cHW1os/NjEBhYTEjnt1uGXwHXyNxSe0WD82or40gmfqxZ8w+OA2r6LWN4dbU74/o/PJVdaPjaoZncH3I2oBKvF5SytALw+2HEJzCJnK1W0QvTt04iE5hAZ0K4iCXruCh+QQfFKaJudoLHO+QIdQEvMmNsctBQ/BIQrJKTzuWw+89Q6RmGnF1Kvl3Ax0iOQ43mJiWZWfQ+QiumwfiV764vk4BJ9i/cg4euuZmzafp0PIFF+mI5dv8La8HYJPyBrPlmffdACuOIQS+3+Zw6kVT1/mW3IIIcq3sOC1FYC37BBJmlc47ov1uWnL4RDCiPUTY8nfFpwBXDhEFHu2Ecp7ZFnhmzkEn6RxzBAK3NbCIY4IDpcZCKn0bEDLIWTWD4wnpNKb8hkOITyyfmA8Bbmei+/HZsIaC/cXDDxDX7F+Xkyh56apw28If26HnsyfQ+8slg6+JcTb26alXfPnAubplegR0nH7uxlK2jZ/7j0W3uGrBOHdc6gzyzw3XyYHr/iBW96eDsT7IkF4HznkkWyWnKR0FPF2L9ZtknnSEZceTbw9XF84eJ8gvEwG1xeIXY8qXhEb78sk4W3vcO/xJk5iOqp499x3OHiH7xKFZxgfznIIonFSxsMaWg6/Sxbep3XHC6sC8AWqeD/hLWbJJ066eJ+5dxh0ELZHE2/3M97IefA6WXgXm423/388Jx7xai/eeAmL3t5G42U2Hm+jfW8Pc2pJGN7+Rs+cBt4mrxgMvE1e7xlD2Sav1g28Td5rMRZEm7xTZixnN3qf8+NG71IXP23yGYN1AoZDl6wTIuv8cnPP9zLb32/y6WymuLPJZ+u7GW6Tb0ZkHjj691ooRm/f/D3Kt5IoXh34bP4e1oI2m/0rKV5xN7zw8MybEVhLouy7v6l1MryLPQLh4Zn3WnDuc2Z/TqelS8LwkWgbB8+0PYzeks3+PW1IZ0d3j4dnfwiVbusfaQuvzwzvUxGDzrzWYgptbsn+krYl1pjhXeD0luKF/SGk4sv+Mz0TaXMJrwwW3if7QwjFZ/jBnC4tNhjRYZbe/fRjge8QGX6Qdkgts8H7jFN61kBtKcj5sj+LTrq0xCh8OHD2xGkpYKq2/YB9+PBy0x7JLK3Dm/mBU2KXBd4FXm5+mH9wzUHD3A/c4WPQPHew6KYziyX/7HT4gSt8Pfp4H/HwHhaf9Nsuc/mBS/qEOh4WnLP0/AaXJT9w85Uo02ENZK7S88lOc33gK+rdBXMVvL3j/LAH3qofuLsL3fTErLzZPD3VirNnt/61ls7go5meO8UwK/W5lv+1HW8/cKcnzZUDnue5bMGSe7Paxw/c0umt2/EGFiM3H5a+wLkq8veDpfSktrDFg1vJTc7575St84MlPkqzJ25qruSmo7ms9QO3RIlKe/mAmZqrubmYXAL8YImPxnD2PS6dR25OJ5dgP3BLotA+H7D3td2ebsv0huwvqGU354t8etnDLbzp4cKy3h4i+cGS9Ij5sNuKEbwPXl/0+gDND6jG7wK78DLmi21e+rcYDOPFF2H9fQ5B59VYTNXVUHhpqReVP4SKnVdjsdQIF760KEazObGPX3eL3elVlUOGLy1GMZ/tPISh85hY5rqUQvKlVfD5+h7ztHIqb1ewVQobPsMgarAD6McwZZdx7L17aaKH5hMh1+87eyHp1gXPUC9kdzGlggVw0vtdqLoLCF54c5gGcAwBV+6q4pv/hApfQPAMcwjdXUzpaeIWWrpUzQx680OY1rKmbU6/nSR8ZgBrV0R0A2n699X/i28M/p43V5+MjwiwNNAXvU2Ufo2boL4Di0NdovS0AUOlaPlSdzVu8c1v8Pb//KZN95+QMHzmg+nSGLeL9mvqyt/1zW8zWAmK9kPkfMacrdYmyISlfkPVvSxJwnEI73Xeqsi650yirtbGCLN2fdDVPdmsL0F3CIS+MlWawNxdDyepandw5bdeKpX7466qSmt/7c0PaAW4W0ToK7ZCLx08EXU1XXseTK7q5VKpxBn/letX/cG425NUfT2aJUSH2P6ESmdMRYB8NqMB6ZQuSSJqikgigkMUg+YVl55Byg9ICA6BkZqWSGZreBkOsZ4PtWvOVELOHSoKcAjXUTqSiNYO8FrrEB6HCoECcXdA+TsEbuHZGsSMz9chcAtvqufwWxORSPR2iO2fQtEZ01nc+LwcAn0YWxHx4ghaqw6xdMcDT7W48S07xC7aKigxfEsOEappxpnP5RDFoL2jQMWu/hwOEbCticYXs/65cAgIOsP/YubvM4eAoeO4cez4TIeAooNf3gJIr4HRcdyV72YPIwGfeJd7sWqgUg36PL8bowRVI3gRZqDGJUHVATydUYBSLBJUVMkOoXxVikOC6uBlt9CEeYLC38FwqlxjOqJJUkSJORfLDqN2o7//W64xqkCJ0lvXfRYtVFQbtN4MKT1Tz1C9F3XVOWVePqEIJ+mROPkaXdWoAUrqJe0X6gz1e1QAJbXB6FVyCoDs4ExFnKKS+swQzlS9sXohBUaiLo4Z1NyySmMxghBKIS83RaGrrve9m/Bs0iXjrHSrNKlBERpsDZoejqgyAKF50+c5hmy2SpOGFHDNaB0a4j0tpqoPumj3jZxkoq7qvbHv/ayYqT55rpl3j4Kvj4hmzNReY1JPCNpc9f642xMNSuuKlYPU/B/JvoeVrjUG/bjn4zqVrAtyl41urdfrmXC9Xq3beB4PJv2rcrQR+x8equodsVFNawAAAABJRU5ErkJggg=="
      alt=""
    />
    <div>Google로 시작하기</div>
    <div />
  </button>
</div>

import { writable } from "svelte/store";

export const user$ = writable(null); //쓸수있는 수정할수있는


//앞에 $는 꼭 붙여줘야됨 유저 $는 writable이고 그 값을 가져오려면 

{#if !$user$}
  <Login />
{:else}
  <Router {routes} />
{/if}
